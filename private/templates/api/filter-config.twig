{# {% header "Content-Type: application/json" %} #}

var FilterStructure = [

    {% for section in craft.categories.group('filter') %}
    {
        type: 'section',
        label: '{{section.title}}',
        header: true,
        closable: true,
        opened: true,

        fields: [

            {% for field in section.filter.sectionfield %}

            {
                id: '{{ field.fieldSource.first.libraryHandle }}',
                label: '{{ field.fieldLabel }}',
                {% set library = craft.categories.group(field.fieldSource.first.libraryHandle) %}

                {% if field.displayType.value in ['simpleslider','stepsslider','doubleslider'] %}
                    {% set selectedEntries = craft.entries.section('polozky').find({(field.fieldSource.first.libraryHandle):'> 0'})|supersort('sortas','{sirka}') %}
                    <br>
                    {{ field.fieldLabel }} / {{ field.fieldSource.first.libraryHandle }}<br>
                    ======================<br>

                    {% for shw in selectedEntries %}
                        >! {{ shw.title }} -> {{ shw.sirka }}<br>
                    {% endfor %}
                {% endif %}

                {% switch field.displayType %}
                    {% case "dropdown" %}
                        type: 'dropdown',
                        style: {
                            width: 10
                        },
                        value: [],{% include "/_partials/filter/_fieldtype-dropdown.twig" %}
                    {% case "cloud" %}
                        type: 'cloud',
                        style: {
                            width: 10
                        },
                        value: [],{% include "/_partials/filter/_fieldtype-dropdown.twig" %}

                    {# NOTE: pokdu pošlu reálné hodnoty, jak poznám, zda user slider použil nebo ne? #}
                    {% case "simpleslider" %}
                        type: 'slider',
                        value: 10,
                        default: 10,

                        options: { // ruzne pro ruzne typy slider, cloud a dropdown
                            showTicks: true,
                            ceil: 20,
                            floor: 0
                        },
                    {% case "stepslider" %}
                        type: 'slider',
                        value: 2,
                        default: 2,

                        options: {
                            showTicks: true,
                            stepsArray: [0, 10, 12, 18]
                        },
                    {% case "doubleslider" %}
                        type: 'range',
                        min: 10,
                        max: 20,
                        defaultmin: 10,
                        defaultmax: 20,
                        options: {
                            floor: 0,
                            ceil: 30,
                            step: 2,
                            showTicks: true
                        },

                {% endswitch %}

                style: {
                    width: 12
                },

                disabled: [
                    { handle_id: ['handle_id_value', 'handle_id_value', 'handle_id_value'] }
                ]

            },
            {% endfor %}

        ]
    }

    {% endfor %}
];
